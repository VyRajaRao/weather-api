
  :root{
    --bg:#071022;
    --muted: rgba(200,220,255,0.6);
    --accent:#6ec1e4;
    --accent-2:#ffd66b;
    --card-bg: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    color-scheme: dark;
    font-family: Inter, Poppins, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }

  html,body{height:100%;margin:0;background:
    radial-gradient(800px 400px at 10% 10%, #09243a 0%, transparent 20%),
    radial-gradient(900px 500px at 90% 90%, #042038 0%, transparent 20%),
    var(--bg);
    -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; color:#e9fbff;
  }

  /* Layout */
  .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:28px}
  .app{
    width:100%;max-width:1150px;border-radius:16px;background:var(--card-bg);
    border:1px solid rgba(255,255,255,0.04);box-shadow:0 18px 60px rgba(2,6,23,0.75);
    display:grid;grid-template-columns:360px 1fr;gap:18px;padding:18px;position:relative;overflow:hidden;
    backdrop-filter: blur(10px) saturate(120%);
  }

  /* subtle inline SVG brushstroke background */
  .app::after{
    content:"";
    position:absolute; inset:0; opacity:0.06;
    background-image: url("data:image/svg+xml;utf8,\
      <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800'>\
        <g fill='none' stroke='%23ffffff' stroke-opacity='0.06' stroke-width='28' stroke-linecap='round' stroke-linejoin='round'>\
          <path d='M50 180 C220 20, 420 340, 800 120'/>\
          <path d='M120 280 C300 120, 500 460, 980 200'/>\
        </g>\
      </svg>");
    mix-blend-mode:overlay; pointer-events:none;
  }

  /* Left column (controls) */
  .left{display:flex;flex-direction:column;gap:12px;padding:14px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.02)}
  .brand{display:flex;align-items:center;gap:12px}
  .logo{width:44px;height:44px;border-radius:10px;display:grid;place-items:center;font-weight:800;background:linear-gradient(135deg,#9be3ff,#67c7ff);color:#042033}
  .title{font-weight:700}
  .sub{font-size:12px;color:var(--muted)}

  .search{display:flex;gap:10px;align-items:center;margin-top:8px}
  .input{flex:1;display:flex;align-items:center;background:rgba(255,255,255,0.02);padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
  .input input{background:transparent;border:0;outline:0;color:#eaf9ff;font-size:15px;width:100%}
  .btn{border:0;padding:10px 12px;border-radius:10px;background:linear-gradient(180deg,var(--accent),#3aa8e0);color:white;font-weight:700;cursor:pointer}
  .geo{background:transparent;border:1px dashed rgba(255,255,255,0.04);padding:9px 10px;border-radius:10px;color:var(--muted);cursor:pointer}

  .status{display:flex;gap:8px;align-items:center;justify-content:space-between}
  .msg{font-size:13px;color:var(--muted);min-height:18px}
  .loader{width:26px;height:26px;border-radius:50%;border:4px solid rgba(255,255,255,0.06);border-top-color:var(--accent);animation:spin 1s linear infinite;display:inline-block}
  @keyframes spin{to{transform:rotate(360deg)}}

  .temp-preview{display:flex;flex-direction:column;align-items:center;gap:6px;padding:10px 6px}
  .big-temp{font-size:56px;font-weight:800;line-height:1;color:#fff;text-shadow:0 8px 30px rgba(2,6,23,0.7)}
  .small{color:var(--muted);font-size:13px}
  .unit-toggle{cursor:pointer;font-weight:700;padding:6px 8px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:rgba(255,255,255,0.01)}

  .demo-buttons{display:flex;gap:8px;flex-wrap:wrap}

  /* Right column (scene + charts) */
  .right{padding:12px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.02);display:flex;flex-direction:column;gap:12px}

  .scene{width:100%;height:300px;border-radius:12px;overflow:hidden;position:relative;display:flex;align-items:center;justify-content:center;transition: background 0.8s ease, color 0.5s ease;border:1px solid rgba(255,255,255,0.02)}
  .scene.sunny{background: linear-gradient(180deg,#fff2d6 0%, #ffd6a6 60%); color:#332a00}
  .scene.cloudy{background: linear-gradient(180deg,#e7eef6 0%, #c7d4e2 60%); color:#102033}
  .scene.rain{background: linear-gradient(180deg,#cfe9ff 0%, #9fc3e6 60%); color:#052033}
  .scene.snow{background: linear-gradient(180deg,#f7fbff 0%, #e0f1ff 60%); color:#052033}
  .scene.night{background: linear-gradient(180deg,#081023 0%, #031024 60%); color:#dfeeff}
  .scene.fog{background: linear-gradient(180deg,#dfeaf0 0%, #d6e5ec 60%); color:#123}
  .scene.thunder{background: linear-gradient(180deg,#e0f0ff 0%, #bcd8ee 60%); color:#042033}

  .art{width:160px;height:160px;border-radius:14px;display:grid;place-items:center;background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.02);box-shadow:0 8px 26px rgba(2,6,23,0.4)}

  /* Forecast card row */
  .forecast-row{display:flex;gap:10px;overflow:auto;padding:6px}
  .day-card{min-width:120px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.02);padding:10px;border-radius:10px;text-align:center;cursor:pointer;transition:transform .2s}
  .day-card:hover{transform:translateY(-6px)}
  .day-card .date{font-weight:700}
  .day-card .mini{font-size:13px;color:var(--muted)}

  /* Hourly chart area */
  .charts{display:grid;grid-template-columns:1fr 360px;gap:12px;align-items:start}
  .chart-card{background:rgba(255,255,255,0.01);padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.02)}
  canvas{max-width:100%;height:220px}

  /* AQI legend */
  .aqi-legend{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
  .aqi-pill{padding:6px 8px;border-radius:8px;font-weight:700;color:#081022}

  /* Stats row */
  .stats{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
  .stat{background: rgba(255,255,255,0.01);padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.02);display:flex;flex-direction:column;gap:6px}
  .stat b{font-size:16px}

  .footer{display:flex;justify-content:space-between;color:var(--muted);font-size:13px;margin-top:6px}

  @media (max-width:980px){
    .app{grid-template-columns:1fr;max-width:860px}
    .charts{grid-template-columns:1fr}
    .charts > .chart-card + .chart-card{order:2}
  }

  /* reduced motion */
  @media (prefers-reduced-motion: reduce){
    *{animation:none !important;transition:none !important}
  }

  /* helper code tags */
  code{background:rgba(255,255,255,0.02);padding:2px 6px;border-radius:6px;font-family:monospace;font-size:12px}



@keyframes raindrop-fall{ to{ transform: translateY(120vh); opacity:0.05 } }
@keyframes snow-fall{ to{ transform: translateY(120vh) rotate(180deg); opacity:0.6 } }
@keyframes gust{ 0%{transform:translateX(-120%) translateY(0) scaleX(.6)} 50%{transform:translateX(120%) translateY(20px) scaleX(1)} 100%{transform:translateX(260%) translateY(40px) scaleX(.6)} }
@keyframes spin-slow{ to{ transform: rotate(360deg) } }
@keyframes flash-anim{ 0%{opacity:0} 2%{opacity:0.9} 6%{opacity:0} 100%{opacity:0} }



/* ==========================================================
   WEATHER VFX UPGRADE — drop this at the end of style.css
   Non-breaking: only adds styles/animations for existing classes
   Scenes enhanced: sunny, cloudy, rain, snow, night, fog, thunder, wind
   ========================================================== */

/* Performance + pointer safety */
.scene .vfx, .raindrop, .splash, .snowflake, .gust, .sun-rays, .flash, .star {
  pointer-events: none;
  will-change: transform, opacity;
}

/* ----------------------------------------------------------
   CLOUD LAYERS (cloudy / rain / thunder)
   Creates two drifting cloud blankets behind the art tile
   ---------------------------------------------------------- */
.scene.cloudy::before,
.scene.rain::before,
.scene.thunder::before {
  content: "";
  position: absolute;
  inset: -8% -18% auto -18%;
  height: 60%;
  background:
    radial-gradient(80px 40px at 8% 20%, rgba(255,255,255,0.95) 35%, transparent 65%),
    radial-gradient(110px 56px at 25% 35%, rgba(255,255,255,0.9) 35%, transparent 68%),
    radial-gradient(140px 60px at 48% 25%, rgba(255,255,255,0.92) 35%, transparent 68%),
    radial-gradient(110px 56px at 70% 40%, rgba(255,255,255,0.92) 35%, transparent 68%),
    radial-gradient(90px 44px at 90% 28%, rgba(255,255,255,0.9) 35%, transparent 68%);
  filter: blur(4px);
  opacity: .75;
  animation: cloud-drift 55s linear infinite;
  z-index: 0;
}
.scene.cloudy::after,
.scene.rain::after,
.scene.thunder::after {
  content: "";
  position: absolute;
  inset: 10% -22% auto -22%;
  height: 50%;
  background:
    radial-gradient(130px 60px at 12% 30%, rgba(255,255,255,0.65) 30%, transparent 60%),
    radial-gradient(160px 70px at 45% 20%, rgba(255,255,255,0.6) 30%, transparent 60%),
    radial-gradient(120px 56px at 78% 35%, rgba(255,255,255,0.65) 30%, transparent 60%);
  filter: blur(8px);
  opacity: .55;
  animation: cloud-drift-2 70s linear infinite;
  z-index: 0;
}
@keyframes cloud-drift {
  from { transform: translateX(-12%); }
  to   { transform: translateX(12%); }
}
@keyframes cloud-drift-2 {
  from { transform: translateX(12%); }
  to   { transform: translateX(-12%); }
}

/* ----------------------------------------------------------
   RAIN (raindrops + ripples). JS already creates .raindrop/.splash
   ---------------------------------------------------------- */
.raindrop{
  width: 2px;
  height: 26px;
  background: linear-gradient(to bottom, rgba(255,255,255,.85), rgba(255,255,255,0));
  border-radius: 1px;
  filter: blur(.2px);
  box-shadow: 0 0 6px rgba(255,255,255,0.15);
}
.splash{
  width: 22px;
  height: 8px;
  border-radius: 999px;
  background: radial-gradient(closest-side, rgba(255,255,255,.6), rgba(255,255,255,0) 70%);
  opacity: .45;
  animation: ripple .9s ease-out forwards;
}
@keyframes ripple{
  from { transform: scale(.6); opacity: .5; }
  to   { transform: scale(2.2); opacity: 0; }
}

/* ----------------------------------------------------------
   WIND (gust trails). JS already creates .gust
   ---------------------------------------------------------- */
.gust{
  height: 8px;
  border-radius: 999px;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.35), transparent);
  filter: blur(1px);
  box-shadow: 0 0 18px rgba(255,255,255,.08) inset;
}

/* ----------------------------------------------------------
   SNOW (soft glow + twinkle) — complements JS 'snow-fall'
   ---------------------------------------------------------- */
.snowflake{
  background: radial-gradient(circle at 35% 35%, #fff, rgba(255,255,255,.75) 45%, rgba(255,255,255,0) 66%);
  border-radius: 50%;
  box-shadow: 0 0 10px rgba(255,255,255,.35);
  position: absolute;
}
.snowflake::after{
  content:"";
  position:absolute;
  inset:-2px;
  border-radius:inherit;
  box-shadow: 0 0 8px rgba(255,255,255,.6);
  animation: twinkle 2.3s ease-in-out infinite;
  opacity:.6;
}
@keyframes twinkle{
  50% { opacity:.25; transform: scale(1.15); }
}

/* ----------------------------------------------------------
   SUN (glow pulse + rays enhancement)
   ---------------------------------------------------------- */
.scene.sunny .art{
  box-shadow: 0 14px 40px rgba(255,170,70,.35), 0 0 0 2px rgba(255,255,255,.06) inset;
}
.sun-rays::before{
  content:"";
  position:absolute;
  inset:-24px;
  border-radius:50%;
  background: radial-gradient(circle, rgba(255,230,140,.28), transparent 60%);
  filter: blur(12px);
  animation: pulse 3.2s ease-in-out infinite;
}
@keyframes pulse{
  50% { transform: scale(1.06); opacity:.8; }
}

/* ----------------------------------------------------------
   NIGHT (star twinkle)
   ---------------------------------------------------------- */
.star{
  animation: star-twinkle 2.6s ease-in-out infinite;
  box-shadow: 0 0 6px rgba(255,255,255,.5);
}
@keyframes star-twinkle{
  0%,100% { opacity:.65; transform: scale(.9); }
  50%     { opacity:1;   transform: scale(1.15); }
}

/* ----------------------------------------------------------
   FOG (additional drifting layers behind JS fog rows)
   ---------------------------------------------------------- */
.scene.fog::before,
.scene.fog::after{
  content:"";
  position:absolute;
  left:-20%;
  width:140%;
  height:46px;
  top:28px;
  background: linear-gradient(90deg, rgba(255,255,255,.04), rgba(255,255,255,.16), rgba(255,255,255,.04));
  filter: blur(6px);
  opacity:.55;
  animation: fog-drift 14s linear infinite;
  z-index:0;
}
.scene.fog::after{
  top:70px;
  opacity:.45;
  animation-duration: 18s;
  animation-direction: reverse;
}
@keyframes fog-drift{
  from { transform: translateX(-15%); }
  to   { transform: translateX(15%); }
}

/* ----------------------------------------------------------
   THUNDER (screen flash + rumble + bolt glow)
   ---------------------------------------------------------- */
.scene.thunder .flash{
  mix-blend-mode: screen;
  filter: blur(2px);
}
.scene.thunder #art svg{
  filter: drop-shadow(0 0 14px rgba(255,244,154,.9));
}
.scene.thunder .art{
  animation: rumble .8s steps(2) infinite;
}
@keyframes rumble{
  0%,100% { transform: translate(0,0); }
  20%     { transform: translate(-1px,1px); }
  40%     { transform: translate(2px,-1px); }
  60%     { transform: translate(-1px,-2px); }
  80%     { transform: translate(1px,2px); }
}

/* ----------------------------------------------------------
   DEPTH/VIGNETTE — subtle focus to the center
   ---------------------------------------------------------- */
.scene::after{
  content:"";
  position:absolute;
  inset:0;
  box-shadow: inset 0 -30px 80px rgba(0,0,0,.18), inset 0 30px 60px rgba(0,0,0,.1);
  pointer-events:none;
}
